{"version":3,"sources":["components/searchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","actions/bookAction.js","components/Paginate.js","screens/HomeScreen.js","components/Message.js","screens/ProductScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProductListScreen.js","screens/ProfileScreen.js","screens/ProductEditScreen.js","App.js","store.js","reducers/bookListReducer.js","reducers/userReducer.js","index.js","actions/userActions.js"],"names":["SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","Control","type","name","onChange","target","value","placeholder","className","Button","variant","require","useDispatch","useSelector","logout","Header","dispatch","userInfo","state","userLogin","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","render","Toggle","Collapse","id","Nav","NavDropdown","title","Item","onClick","Link","Footer","Row","Col","Rating","text","color","style","defaultProps","proTypes","PropTypes","number","isRequired","string","Product","product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","listBooks","pageNumber","a","axios","get","data","payload","response","message","Paginate","pages","page","isAdmin","Pagination","Array","keys","map","x","active","HomeScreen","match","params","bookList","loading","error","books","console","log","useEffect","marginTop","sm","md","lg","xl","Message","children","Alert","ProductScreen","reviews","updateProduct","email","setRating","comment","setComment","bookReviewCreate","successBookReview","success","loadingBookReview","errorBookReview","url","fetchProduct","Image","alt","fluid","ListGroup","description","format","countInStock","file","download","length","review","createdAt","substring","productID","getState","config","headers","Authorization","token","post","Group","controlId","Label","row","disabled","FormContainer","xs","LoginScreen","location","setEmail","password","setPassword","redirect","search","split","login","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","userRegister","register","ProductListScreen","bookDelete","loadingDelete","errorDelete","successDelete","bookCreate","loadingCreate","errorCreate","successCreate","createdProduct","deleteHandler","window","confirm","delete","deleteBook","Table","striped","bordered","hover","responsive","book","author","ProfileScreen","userDetails","user","userUpdateProfile","getUserDetails","updateUserProfile","ProductEditScreen","productId","setTitle","setPrice","setAuthor","setFile","lessonsCode","setLessonsCode","setDescription","imageUploading","setImageUploading","fileUploading","setFileUploading","setImage","setFormat","bookDetails","productDetails","productUpdate","loadingUpdate","errorUpdate","successUpdate","uploadImageHandler","files","formData","FormData","append","uploadFileHandler","put","File","label","custom","App","path","component","exact","reducer","combineReducers","action","initialState","localStorage","getItem","JSON","parse","middleware","thunk","store","createStore","applyMiddleware","ReactDOM","document","getElementById","setItem","stringify","removeItem"],"mappings":"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","file":"static/js/main.41ac078a.chunk.js","sourcesContent":["import React, {useState } from 'react'\nimport { Form, Button } from 'react-bootstrap'\n\nconst SearchBox = ({history}) => {\n\tconst [keyword, setKeyword] = useState(''); \n\n\tconst submitHandler = (e) => {\n\t\te.preventDefault()\n\t\tif(keyword.trim()){\n\t\t\thistory.push(`/search/${keyword}`)\n\t\t} else{\n\t\t\thistory.push('/')\n\t\t}\n\t}\n\t\n\treturn (\n\t\t <Form onSubmit={submitHandler} inline>\n      <Form.Control\n        type='text'\n        name='q'\n        onChange={(e) => setKeyword(e.target.value)}\n        placeholder='Search Products...'\n        className='mr-sm-2 ml-sm-5'\n      ></Form.Control>\n      <Button type='submit' variant='outline-success' className='p-2'>\n        Search\n      </Button>\n    </Form>\n\t)\n}\n\nexport default SearchBox","import React from 'react'; \nimport {Route} from 'react-router-dom'; \nimport {LinkContainer} from 'react-router-bootstrap'; \nimport SearchBox from './searchBox'; \nimport {\n\tNavbar, \n\tNav, \n\tContainer, \n\tNavDropdown\n} from 'react-bootstrap';\n\nconst {useDispatch, useSelector} = require('react-redux'); \nconst {logout} = require('../actions/userActions');  \n\nconst Header = () => {\n\tconst dispatch = useDispatch( )\n\n\tconst userLogin = useSelector(state => state.userLogin); \n\tconst {userInfo} = userLogin\n\n\tconst logoutHandler = () => {\n\t\tdispatch(logout())\n\t}\n\n\treturn (\n\t\t<header>\n\t\t\t<Navbar bg=\"dark\" variant='dark' expand=\"lg\" collapseOnSelect>\n\t\t\t\t<Container>\n\t\t\t\t\t<LinkContainer to='/'><Navbar.Brand>CEE BOOK EXCHANGE</Navbar.Brand></LinkContainer>\n\t\t\t\t\t<Route render={({history}) => <SearchBox history={history}/>}></Route>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t\t<Nav className='ml-auto'>\n\t\t\t\t\t\t\t{/* <LinkContainer to='/cart'><Nav.Link><i className='fas fa-shopping-cart'></i>Cart</Nav.Link></LinkContainer> */}\n\t\t\t\t\t\t\t{!userInfo ? (\n\t\t\t\t\t\t\t\t<LinkContainer to='/login'><Nav.Link><i className='fas fa-user'></i>Sign In</Nav.Link></LinkContainer>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id='username'>\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\n\t\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Profile</NavDropdown.Item>\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>Logout</NavDropdown.Item>\n\t\t\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</Container>\n\t\t\t</Navbar>\n\t\t</header>\n\t)\n}\n\n\nexport default Header\n\n\n","import React from 'react'\nimport {Container, Row, Col} from 'react-bootstrap'\n\n\nconst Footer = () => {\n\n\treturn (\n\t\t<footer>\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col className='text-center py-3'>\n\t\t\t\t\t\tCopyright &copy; Bookexchange \n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t</footer>)\n}\n\nexport default Footer\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Rating = ({value, text, color}) => {\n\treturn (\n\t\t<div className='rating'>\n\t\t\t<span>\n\t\t\t\t <i style={{color: color}}\n\t\t\t\t className={value >= 1 ? 'fas fa-star' : value >= 0.5 ? 'fas fa-start-half-alt' : 'far fa-star'} />\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t <i style={{color: color}}\n\t\t\t\t className={value >= 2 ? 'fas fa-star' : value >= 1.5 ? 'fas fa-start-half-alt' : 'far fa-star'} />\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t <i style={{color: color}} \n\t\t\t\t className={value >= 3 ? 'fas fa-star' : value >= 2.5 ? 'fas fa-start-half-alt' : 'far fa-star'} />\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t <i style={{color: color}}\n\t\t\t\t className={value >= 4 ? 'fas fa-star' : value >= 3.5 ? 'fas fa-start-half-alt' : 'far fa-star'} />\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t <i style={{color: color}} \n\t\t\t\t className={value >= 5 ? 'fas fa-star' : value >= 4.5 ? 'fas fa-star-half-alt' : 'far fa-star'} />\n\t\t\t</span>\n\n\t\t\t<span>{text && text}</span>\n\t\t</div>\n\t)\n}\n\nRating.defaultProps = {\n\tcolor: '#f8e825'\n}\n\nRating.proTypes = {\n\tvalue: PropTypes.number.isRequired, \n\ttext: PropTypes.string.isRequired, \n\tcolor: PropTypes.string,  \n}\n\n\nexport default Rating; ","import {Card} from 'react-bootstrap'\nimport Rating from './Rating'\nimport {Link} from 'react-router-dom'\n\nconst Product = ({product}) => {\n\treturn (\n\t\t<Card className = 'my-3 p3 rounded'> \n\t\t\t<Link to= {`/product/${product._id}`}>\n\t\t\t\t<Card.Img src={product.image} variant='top' />\n\t\t\t</Link>\n\n\t\t\t<Card.Body>\n\t\t\t\t<Link to = {`/product/${product._id}`}>\n\t\t\t\t\t<Card.Title as='div'>\n\t\t\t\t\t\t<strong>{product.title}</strong>\n\t\t\t\t\t</Card.Title>\n\t\t\t\t</Link>\n\n\t\t\t\t<Card.Text as='div'>\n\t\t\t\t\t<Rating value={product.rating} text={`${product.numReviews}`}/>\n\t\t\t\t</Card.Text>\n\n\t\t\t\t<Card.Text as='h3'>\n\t\t\t\t\t{product.price === 0 ? \"Free\" : `$${product.price}`}\n\t\t\t\t</Card.Text>\n\t\t\t</Card.Body>\n\t\t</Card>\n\t)\n}\n\nexport default Product\n\n\n\n\n/*\n\n<div className='my-3'>\n\t\t\t\t\t\t{product.rating} from {product.numReviews} reviews\n\t\t\t\t\t</div>\n\n*/","import axios from 'axios'; \n\n// action reducer\nexport const listBooks = (keyword = '', pageNumber = '') => async(dispatch) => {\n\n\ttry{ \n\t\tdispatch({ type: 'BOOK_LIST_REQUEST' }); \n\t\tconst {data} = await axios.get(`/api/books?keyword=${keyword}&pageNumber=${pageNumber}`);\n\t\t\n\t\tdispatch({\n\t\t\ttype: 'BOOK_LIST_SUCCESS', \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch (error){\n\t\tdispatch({\n\t\t\ttype: 'BOOK_LIST_FAIL', \n\t\t\tpayload: (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n\n\n\nexport const createBookReview = (productID, review)  => async(dispatch, getState) => {\n\ttry{ \n\t\tdispatch({ type: 'BOOK_CREATE_REVIEW_REQUEST' }); \n\n\t\tconst {userLogin: {userInfo}} = getState()\n\t\t\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t}\n\t\t}\n\n\t\t// review is object with {rate: rate, comment: comment} \n\t\tconst {data} = await axios.post(`/api/books/${productID}/reviews`, review, config);\n\n\t\t\n\t\tdispatch({\n\t\t\ttype: 'BOOK_CREATE_REVIEW_SUCCESS', \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch (error){\n\t\tdispatch({\n\t\t\ttype: 'BOOK_CREATE_REVIEW_FAIL', \n\t\t\tpayload: (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n\n\n// BOOK CREATE\nexport const createBook = ()  => async(dispatch, getState) => {\n\ttry{ \n\t\tdispatch({ type: 'BOOK_CREATE_REQUEST' }); \n\n\t\tconst {userLogin: {userInfo}} = getState()\n\t\t\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t}\n\t\t}\n\n\t\t// review is object with {rate: rate, comment: comment} \n\t\tconst {data} = await axios.post(`/api/books/`, {}, config);\n\n\t\t\n\t\tdispatch({\n\t\t\ttype: 'BOOK_CREATE_SUCCESS', \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch (error){\n\t\tdispatch({\n\t\t\ttype: 'BOOK_CREATE_FAIL',\n\t\t\tpayload: (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n\n\n\n\n\n\n// DELETE BOOK\nexport const deleteBook = (id)  => async(dispatch, getState) => {\n\ttry{ \n\t\tdispatch({ type: 'BOOK_DELETE_REQUEST' }); \n\n\t\tconst {userLogin: {userInfo}} = getState()\n\t\t\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t}\n\t\t}\n\n\t\t// delete\n\t\tconst {data} = await axios.delete(`/api/books/${id}`, config);\n\n\t\t\n\t\tdispatch({\n\t\t\ttype: 'BOOK_DELETE_SUCCESS', \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch (error){\n\t\tdispatch({\n\t\t\ttype: 'BOOK_DELETE_FAIL',\n\t\t\tpayload: (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n\n\n\n// list book details\nexport const listProductDetails = (id)  => async(dispatch, getState) => {\n\ttry{ \n\t\tdispatch({ type: 'BOOK_DETAIL_REQUEST' }); \n\n\t\tconst {userLogin: {userInfo}} = getState()\n\t\t\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t}\n\t\t}\n\n\t\t// delete\n\t\tconst {data} = await axios.get(`/api/books/${id}`, config);\n\t\tconsole.log('data from Actions'); \n\t\tconsole.log(data); \n\t\t\n\t\tdispatch({\n\t\t\ttype: 'BOOK_DETAIL_SUCCESS', \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch (error){\n\t\tdispatch({\n\t\t\ttype: 'BOOK_DETAIL_FAIL',\n\t\t\tpayload: (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n\n\n// UDPATE PRODUCT\n// list book details\nexport const updateProduct = (product)  => async(dispatch, getState) => {\n\ttry{ \n\t \tdispatch({ type: 'BOOK_UPDATE_REQUEST' });\n\n\t\tconst {userLogin: {userInfo}} = getState()\n\t\t\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t}\n\t\t}\n\n\n\t\t// delete\n\t\tconst {data} = await axios.put(`/api/books/${product._id}`, product, config);\n\t\t\n\t\tdispatch({\n\t\t\ttype: 'BOOK_UPDATE_SUCCESS', \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch (error){\n\t\tdispatch({\n\t\t\ttype: 'BOOK_UPDATE_FAIL',\n\t\t\tpayload: (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n","import React from 'react'\nimport { Pagination } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\n  return (\n    pages > 1 && (\n      <Pagination>\n        {[...Array(pages).keys()].map((x) => (\n          <LinkContainer\n            key={x + 1}\n            to={ isAdmin ? \n                `/profile/${x+1}` :\n                  keyword\n                  ? `/search/${keyword}/page/${x + 1}`\n                  : `/page/${x + 1}`\n            }\n          >\n            <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\n          </LinkContainer>\n        ))}\n      </Pagination>\n    )\n  )\n}\n\nexport default Paginate","import React, {useEffect} from 'react'; \nimport {useDispatch, useSelector} from 'react-redux'; \nimport { Row, Col } from 'react-bootstrap';\nimport Product from '../components/Product'; \nimport {listBooks} from '../actions/bookAction'; \nimport Paginate from '../components/Paginate'\n\nconst HomeScreen = ({match}) => {\n\t// search keyword\n\tconst keyword = match.params.keyword;\n\tconst pageNumber = match.params.pageNumber || 1;\n\n\tconst dispatch = useDispatch(); \n\tconst bookList = useSelector(state => state.bookList); \n\tconst {loading, error, books, pages, page} = bookList\n\n\tconsole.log('bookList')\n\tconsole.log(bookList)\n\n\n\tuseEffect(() => {\n\t\tdispatch(listBooks(keyword, pageNumber))\n\t}, [dispatch, keyword, pageNumber]); \n\n\tconsole.log(books); \n\t\n\n\treturn ( \n\t\t<>\n\t\t<h1 style={{marginTop: \"5px\"}}>Civil Engineering Course Books</h1>\n\t\t\t{loading ? <h2>Loading...</h2> : error ? <h3>{error}</h3> : (\n\t\t\t\t<>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{books.map((product) => (\n\t\t\t\t\t\t\t<Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n\t\t\t\t\t\t\t\t<Product product={product}/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Paginate pages={pages} page={page} keyword={keyword ? keyword :  ''}></Paginate>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default HomeScreen","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n\nconst Message = ({ variant, children }) => {\n  return <Alert variant={variant}>{children}</Alert>\n}\n\nMessage.defaultProps = {\n  variant: 'info',\n}\n\nexport default Message\n","import React, {useState, useEffect} from 'react'; \nimport {Link} from 'react-router-dom'\nimport {Row, Col, Image, ListGroup, Card, Button, Form} from 'react-bootstrap'\nimport Message from '../components/Message'; \nimport Rating from '../components/Rating'\n// import products from '../products'\nimport axios from 'axios'\nimport {createBookReview} from '../actions/bookAction'\nimport {useDispatch, useSelector} from 'react-redux'; \n\nconst ProductScreen = ({match, history}) => {\n\tconst [product, updateProduct] = useState({reviews: []})\n\tconst [email, updateEmail] = useState('18080342d@connect.polyu.hk')\n\n\t// reviews\n\tconst [rating, setRating] = useState(0)\n\tconst [comment, setComment] = useState('')\n\n\n\tconst bookReviewCreate = useSelector((state) => state.bookReviewCreate);  \n\tconst {\n\t\tsuccess: successBookReview,\n    loading: loadingBookReview,\n    error: errorBookReview\n\t} = bookReviewCreate\n\n\tconst dispatch = useDispatch()\n\tconst userLogin = useSelector((state) => state.userLogin)\n\tconst {userInfo} = userLogin; \n\t\n\tuseEffect(() => {\n\t\tif (successBookReview){\n\t\t\tsetRating(0); \n\t\t\tsetComment('')\n\t\t}\n\n\t\tconst url = `/api/books/${match.params.id}`\n\t\tconst fetchProduct = async () => {\n\t\t\tlet {data} = await axios.get(url); \n\t\t\tupdateProduct(data); \n\t\t}\n\t\t\n\t\tfetchProduct(); \n\t}, [dispatch, match, successBookReview])\n\n\tconsole.log(`product:`); \n\tconsole.log(product); \n\n\n\tconst submitHandler = (e) => {\n    e.preventDefault()\n    dispatch(\n      createBookReview(match.params.id, {\n        rating,\n        comment,\n      })\n    )\n  }\n\n\t\n\t// const product = products.find(p => p._id === match.params.id)\n\treturn (\n\t\t<>\n\t\t\t<Link to = '/' className = 'btn btn-light my-3'>Go Back</Link>\n\t\t\t<Row>\n\t\t\t\t<Col md = {4}>\n\t\t\t\t\t<Image src={product.image} alt={product.title} fluid/> \n\t\t\t\t</Col>\n\t\t\t\t<Col md = {3}>\n\t\t\t\t\t<ListGroup variant='flush'> \n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t<h3>{product.title}</h3>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t<Rating value={product.rating} text={`${product.numReviews}`} />\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\tPrice: {product.price === 0 ? 'Free' : `$${product.price}`}\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\tDescription: {product.description}\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</Col>\n\n\t\t\t\t<Col md={4}>\n\t\t\t\t\t<ListGroup variant='flush'>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t<Row>\t\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\tPrice:\n\t\t\t\t\t\t\t\t</Col> \n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t{product.price === 0 ? 'Free' : `$${product.price}`}\n\t\t\t\t\t\t\t\t</Col> \n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>Status:</Col>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t{product.format === 'physical' ? (product.countInStock > 0 ? \"In Stock\" : \"Out of Stock \") : 'In Stock'}\n\t\t\t\t\t\t\t\t</Col> \n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>Fromat:</Col>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t{product.format}\n\t\t\t\t\t\t\t\t</Col> \n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>Contact</Col>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t{email}\n\t\t\t\t\t\t\t\t</Col> \n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item>\t\n\t\t\t\t\t\t\t<Link to={`${product.file}`} target=\"_blank\" download>\n\t\t\t\t\t\t\t\t<Button className='btn-block' type='button'>Download Book PDF</Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\t\t\t\t\t\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t\t{/* Review form and other reviews */}\n\t\t\t<Row>\n\t\t\t\t<Col md={6}>\n\t\t\t\t\t<h2>Comments</h2>\n\t\t\t\t\t{(product.reviews.length === 0) ? <Message>No Comments</Message> : (\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\n\t\t\t\t\t\t\t\t\t\t{product.reviews.map((review) => (\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={review._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<Rating value={review.rating} />\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{review.createdAt.substring(0, 10)}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t\t<h2>Write a Comment</h2>\n\t\t\t\t\t\t\t\t\t\t\t{successBookReview && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Message variant='success'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tReview submitted successfully\n\t\t\t\t\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{loadingBookReview && \"Loading...\"}\n\t\t\t\t\t\t\t\t\t\t\t{errorBookReview && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>{errorBookReview}</Message>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{userInfo ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={submitHandler}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRating(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>Select...</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>1 - Poor</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>2 - Fair</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>3 - Good</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>4 - Very Good</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>5 - Excellent</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Comment</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingBookReview}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<Message>\n\t\t\t\t\t\t\t\t\t\t\t\t\tPlease <Link to='/login'>sign in</Link> to write a review{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t)}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</>\n\t)\n}\n\nexport default ProductScreen; ","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\n\nconst FormContainer = ({ children }) => {\n  return (\n    <Container>\n      <Row className='justify-content-md-center'>\n        <Col xs={12} md={6}>\n          {children}\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default FormContainer","import React, {useState, useEffect} from 'react'; \nimport {Link} from 'react-router-dom'\nimport {Form, Button, Row, Col} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Message from '../components/Message'; \nimport FormContainer from '../components/FormContainer'\n// import { redirect } from 'statuses';\nimport {login} from '../actions/userActions'\n// import \n\nconst LoginScreen = ({location, history}) => {\n\tconst [email, setEmail] = useState(''); \n\tconst [password, setPassword] = useState(''); \n\n\tconst redirect = location.search ? location.search.split('=')[1] : '/'\n\n\tconst dispatch = useDispatch()\n\tconst userLogin = useSelector(state => state.userLogin); \n\tconsole.log('userLogin'); \n\tconsole.log(userLogin)\n\tconst {loading, error, userInfo} = userLogin; \n\n\tuseEffect(() => {\n\t\tif(userInfo){\n\t\t\tconsole.log(history); \n\t\t\thistory.push(redirect)\n\t\t}\n\t}, [history, userInfo, redirect])\n\n\n\tconst submitHandler = (e) => {\n\t\te.preventDefault(); \n\t\tdispatch(login(email, password))\n\t}\n\n\treturn (\n\t\t<FormContainer>\n      <h1>Sign In</h1>\n      {error && <Message variant='danger'>{error}</Message>}\n      {loading && `Loading...`}\n      <Form onSubmit={submitHandler}>\n        <Form.Group controlId='email'>\n          <Form.Label>Email Address</Form.Label>\n          <Form.Control\n            type='email'\n            placeholder='Enter email'\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId='password'>\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Enter password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Button type='submit' variant='primary'>\n          Sign In\n        </Button>\n      </Form>\n\n      <Row className='py-3'>\n        <Col>\n          New Customer?{' '}\n          <Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\n            Register\n          </Link>\n        </Col>\n      </Row>\n    </FormContainer>\n\t)\n}\n\nexport default LoginScreen","import React, {useState, useEffect} from 'react'; \nimport {Link} from 'react-router-dom'\nimport {Form, Button, Row, Col} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Message from '../components/Message'; \nimport FormContainer from '../components/FormContainer'\nimport {register} from '../actions/userActions'\n\nconst RegisterScreen = ({location, history}) => {\n\tconst [name, setName] = useState(''); \n\tconst [email, setEmail] = useState(''); \n\tconst [password, setPassword] = useState(''); \n\tconst [confirmPassword, setConfirmPassword]= useState('')\n\tconst [message, setMessage] = useState(null);\n\t\n\tconst dispatch = useDispatch()\n\tconst userLogin = useSelector(state => state.userRegister); \n\tconst redirect = location.search ? location.search.split('=')[1] : '/'\n\n\tconst {loading, error, userInfo} = userLogin; \n\n\tuseEffect(() => {\n\t\tif(userInfo){\n\t\t\thistory.push(redirect)\n\t\t}\n\t}, [history, userInfo, redirect])\n\n\n\tconst submitHandler = (e) => {\n\t\te.preventDefault(); \t\n\n\t\tif (password !== confirmPassword){\n\t\t\tsetMessage('Passwords do not match'); \n\t\t} else{\n\t\t\tdispatch(register(name, email, password))\n\t\t}\n\t\t\n\n\t}\n\n\treturn (\n\t\t<FormContainer>\n      \n      <h1>Sign Up</h1>\n      {message && <Message variant='danger'>{message}</Message>}\n      {error && <Message variant='danger'>{error}</Message>}\n      {loading && `Loading...`}\n      <Form onSubmit={submitHandler}>\n\n\t\t\t\t<Form.Group controlId='Name'>\n          <Form.Label >Name</Form.Label>\n          <Form.Control\n            type='Name'\n            placeholder='Enter Name'\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId='email'>\n          <Form.Label>Email Address</Form.Label>\n          <Form.Control\n            type='email'\n            placeholder='Enter email'\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n\n\t\t\t\t<Form.Group controlId='password'>\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Enter password'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n\n        <Form.Group controlId='confirmPassword'>\n          <Form.Label> Confirm Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Confirm password'\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Button type='submit' variant='primary'>\n          Register\n        </Button>\n      </Form>\n\n      <Row className='py-3'>\n        <Col>\n          Have an Account?{' '}\n          <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\n            Login\n          </Link>\n        </Col>\n      </Row>\n    </FormContainer>\n\t)\n}\n\nexport default RegisterScreen\n","import React, { useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Table, Button, Row, Col } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Paginate from '../components/Paginate'\nimport {listBooks, deleteBook, createBook} from '../actions/bookAction'; \n\nconst ProductListScreen = ({ history, match }) => {\n  const pageNumber = match.params.pageNumber || 1\n  const dispatch = useDispatch()\n\n  const bookList = useSelector((state) => state.bookList)\n  const { loading, error, books, page, pages } = bookList\n\n  const bookDelete = useSelector((state) => state.bookDelete)\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = bookDelete\n\n  const bookCreate = useSelector((state) => state.bookCreate)\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    product: createdProduct,\n  } = bookCreate\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n\n  useEffect(() => {\n    dispatch({ type: \"BOOK_CREATE_RESET\" })\n\n    if (!userInfo) {\n      history.push('/login')\n    }\n\n    if (successCreate) {\n      history.push(`/product/${createdProduct._id}/edit`) // redirect to the user profiles to show uploads\n    } else {\n      dispatch(listBooks('', pageNumber))\n    }\n  }, [\n    dispatch,\n    history,\n    userInfo,\n    successDelete,\n    successCreate,\n    createdProduct,\n    pageNumber,\n  ])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure')) {\n      dispatch(deleteBook(id))\n    }\n  }\n\n  const createProductHandler = () => {\n    dispatch(createBook())\n  }\n\n  return (\n    <>\n      <Row className='align-items-center'>\n        <Col>\n          <h1>My Uploads</h1>\n        </Col>\n        <Col className='text-right'>\n          <Button className='my-3' onClick={createProductHandler}>\n            <i className='fas fa-plus'></i> Upload Book / Notes\n          </Button>\n        </Col>\n      </Row>\n      {loadingDelete && \"Loading...\"}\n      {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\n      {loadingCreate && \"Loading...\"}\n      {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\n      {loading ? (\n        \"Loading...\"\n      ) : error ? (\n        <Message variant='danger'>{error}</Message>\n      ) : (\n        <>\n          <Table striped bordered hover responsive className='table-sm'>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>NAME</th>\n                <th>PRICE</th>\n                <th>CATEGORY</th>\n                <th>BRAND</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {books.map((book) => (\n                <tr key={book._id}>\n                  <td>{book._id}</td>\n                  <td>{book.name}</td>\n                  <td>{book.author}</td>\n                  <td>${book.price}</td>\n                  <td>{book.description}</td>\n                  <td>\n                    <LinkContainer to={`/product/${book._id}/edit`}>\n                      <Button variant='light' className='btn-sm'>\n                        <i className='fas fa-edit'></i>\n                      </Button>\n                    </LinkContainer>\n                    <Button\n                      variant='danger'\n                      className='btn-sm'\n                      onClick={() => deleteHandler(book._id)}\n                    >\n                      <i className='fas fa-trash'></i>\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n          <Paginate pages={pages} page={page} isAdmin={true} />\n        </>\n      )}\n    </>\n  )\n}\n\nexport default ProductListScreen\n","import React, {useState, useEffect} from 'react'; \nimport {Link} from 'react-router-dom'\nimport {Form, Button, Row, Col} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Message from '../components/Message'; \nimport {getUserDetails, updateUserProfile} from '../actions/userActions'\nimport {Route} from 'react-router-dom'; \n\nimport ProductListScreen from './ProductListScreen'; \n\nconst ProfileScreen = ({history}) => {\n\tconst [name, setName] = useState(''); \n\tconst [email, setEmail] = useState(''); \n\tconst [password, setPassword] = useState(''); \n\tconst [confirmPassword, setConfirmPassword]= useState('')\n\tconst [message, setMessage] = useState(null);\n\t\n\tconst dispatch = useDispatch()\n\n\tconst userDetails = useSelector(state => state.userDetails); \n\tconst {loading, error, user} = userDetails; \n\n\tconst userLogin = useSelector(state => state.userLogin); \n\tconst {userInfo} = userLogin; \n\n\tconst userUpdateProfile = useSelector(state => state.userUpdateProfile); \n\tconst {success} = userUpdateProfile; \n\n\n\tuseEffect(() => {\n\t\tif(!userInfo){\n\t\t\t// if user is not loged in redirect to login page\n\t\t\thistory.push('/login'); \n\t\t} else{\n\t\t\t\tif(!user || !user.name || success) {\n\t\t\t\t\tdispatch({ type: \"USER_UPDATE_RESET\", });\n\t\t\t\t\tdispatch(getUserDetails('profile'))\n\t\t\t\t} else{\n\t\t\t\t\tsetName(user.name); \n\t\t\t\t\tsetEmail(user.email);\n\t\t\t\t}\n\t\t}\n\t}, [userInfo, dispatch, history, user, success])\n\n\n\tconst submitHandler = (e) => {\n\t\te.preventDefault(); \t\n\t\tif (password !== confirmPassword){\n\t\t\tsetMessage('Passwords do not match'); \n\t\t} else{\n\t\t\t// updates the user prrofile (PUT request)\n\t\t\tdispatch(updateUserProfile({\n\t\t\t\tid: user._id,\n\t\t\t\tname,\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t}))\n\t\t}\n\t}\n\n\treturn (\n\t\t<Row>\n\t\t\t<Col md={3}>\n\t\t\t\t<h1>Sign Up</h1>\n\t\t\t\t{message && <Message variant='danger'>{message}</Message>}\n\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\n\t\t\t\t{success && <Message variant='success'>{'The profile is updated'}</Message>}\n\t\t\t\t{loading && `Loading...`}\n\t\t\t\t<Form onSubmit={submitHandler}>\n\n\t\t\t\t\t<Form.Group controlId='Name'>\n\t\t\t\t\t\t<Form.Label >Name</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\ttype='Name'\n\t\t\t\t\t\t\tplaceholder='Enter Name'\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId='email'>\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\tplaceholder='Enter email'\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId='password'>\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tplaceholder='Enter password'\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId='confirmPassword'>\n          <Form.Label> Confirm Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Confirm password'\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n\t\t\t\t<Button type='submit' variant='primary'>\n          Update User Profile \n        </Button>\n\n\t\t\t\t</Form>\n\t\t\t</Col>\n\n\n\n\n\t\t\t<Col md={9}>\n\t\t\t\t<Route render={({history, match}) => <ProductListScreen history={history} match={match}> </ProductListScreen>}/>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nexport default ProfileScreen\n","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Form, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport FormContainer from '../components/FormContainer'\nimport { listProductDetails, updateProduct } from '../actions/bookAction'\n\nconst ProductEditScreen = ({ match, history }) => {\n  const productId = match.params.id\n\n  const [title, setTitle] = useState('')\n  const [price, setPrice] = useState(0)\n  const [author, setAuthor] = useState('')\n  const [file, setFile] = useState(''); \n  const [lessonsCode, setLessonsCode] = useState('')\n  const [description, setDescription] = useState('')\n  const [imageUploading, setImageUploading] = useState(false)\n  const [fileUploading, setFileUploading] = useState(false)\n  const [image, setImage] = useState(''); \n  const [format, setFormat] = useState('PDF')\n\n  /* \n  user: req.user._id,\n  title: 'Sample name',\n  author: 'Sample', \n  image: '/images/sample.jpg',\n  file: '/books/sample.jpg', \n  lessonsCode: 'CSE111111',\n  description: 'Message me to get this book',\n  rating: 0, \n  numReviews: 0, \n  price: 0,\n  reviews: [], \n  format: 'PDF', \n  */\n\n  const dispatch = useDispatch()\n\n  const bookDetails = useSelector((state) => state.productDetails)\n  const { loading, error, product } = bookDetails\n\n  const productUpdate = useSelector((state) => state.productUpdate)\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = productUpdate\n\n  console.log('success and update'); \n  console.log(successUpdate); \n  console.log(loadingUpdate)\n\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({ type: \"BOOK_UPDATE_RESET\" })\n      history.push('/profile') // go back to prfile when successfull upload\n    } else {\n      if (!product || (!product.title || product._id !== productId)) {\n        dispatch(listProductDetails(productId))\n      } else {\n        setTitle(product.title)\n        setPrice(product.price)\n        setImage(product.image)\n        setFile(product.file)\n        setLessonsCode(product.lessonsCode); \n        setDescription(product.description)\n        setAuthor(product.author);\n\n      }\n    }\n  }, [dispatch, history, productId, product, successUpdate])\n\n  const uploadImageHandler = async (e) => {\n    const file = e.target.files[0]\n    const formData = new FormData()\n    formData.append('image', file)\n    setImageUploading(true)\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }\n\n      const { data } = await axios.post('/api/upload/image', formData, config)\n\n      setImage(data)\n      setImageUploading(false)\n    } catch (error) {\n      console.error(error)\n      setImageUploading(false)\n    }\n  }\n\n  const uploadFileHandler = async (e) => {\n    const file = e.target.files[0]\n    const formData = new FormData()\n    formData.append('file', file)\n    setFileUploading(true)\n\n    try{\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        }, \n      }\n\n      const {data} = await axios.post('/api/upload/file', formData, config)\n      setFile(data)\n      setFileUploading(false)\n    } catch (error){\n      console.log(error); \n      setFileUploading(false); \n    }\n\n  }\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n    dispatch(\n      updateProduct({\n        _id: productId,\n        title,\n        price,\n        image,\n        file,\n        author,\n        description,\n        format,\n        lessonsCode, \n        rating: product.rating,  \n        numReviews: product.numReviews, \n      })\n    )\n  }\n\n  return (\n    <>\n      <Link to='/profile' className='btn btn-light my-3'>\n        Go Back\n      </Link>\n      <FormContainer>\n        <h1>Edit Product</h1>\n        {loadingUpdate && \"Loading...\"}\n        {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\n        {loading ? (\n          \"Loading...\"\n        ) : error ? (\n          <Message variant='danger'>{error}</Message>\n        ) : (\n          <Form onSubmit={submitHandler}>\n            <Form.Group controlId='name'>\n              <Form.Label>Title</Form.Label>p\n              <Form.Control\n                type='name'\n                placeholder='Enter name'\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='price'>\n              <Form.Label>Price</Form.Label>\n              <Form.Control\n                type='number'\n                placeholder='Enter price'\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='image'>\n              <Form.Label>Image</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter image url'\n                value={image}\n                onChange={(e) => setImage(e.target.value)}\n              ></Form.Control>\n              <Form.File\n                id='image-file'\n                label='Choose Front Image'\n                custom\n                onChange={uploadImageHandler}\n              ></Form.File>\n              {imageUploading && \"Loading...\"}\n            </Form.Group>\n\n\n            <Form.Group controlId='file'>\n              <Form.Label>File</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter file url'\n                value={file}\n                onChange={(e) => setFile(e.target.value)}\n              ></Form.Control>\n              <Form.File\n                id='file'\n                label='Choose File'\n                custom\n                onChange={uploadFileHandler}\n              ></Form.File>\n              {fileUploading && \"Loading...\"}\n            </Form.Group>\n\n            <Form.Group controlId='Author'>\n              <Form.Label>Author</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Author'\n                value={author}\n                onChange={(e) => setAuthor(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='format'>\n              <Form.Label>Format</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter format (PDF)'\n                value={format}\n                onChange={(e) => setFormat(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='category'>\n              <Form.Label>Category</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter category'\n                value={lessonsCode}\n                onChange={(e) => setLessonsCode(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='description'>\n              <Form.Label>Description</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter description'\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n\n            <Button type='submit' variant='primary'>\n              Update\n            </Button>\n          </Form>\n        )}\n      </FormContainer>\n    </>\n  )\n}\n\nexport default ProductEditScreen","import React from 'react'; \nimport {BrowserRouter as Router, Route} from 'react-router-dom'\nimport {Container} from 'react-bootstrap'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport HomeScreen from './screens/HomeScreen'\nimport ProductScreen from './screens/ProductScreen'\nimport LoginScreen from './screens/LoginScreen'\nimport RegisterScreen from './screens/RegisterScreen'\nimport ProfileScreen from './screens/ProfileScreen'\nimport ProductEditScreen from './screens/ProductEditScreen'\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <main>\n        <Container>\n          <Container>\n            <Route path='/login' component={LoginScreen} />\n            <Route path='/register' component={RegisterScreen} />\n            <Route path='/profile' component={ProfileScreen} exact />\n            <Route path='/profile/:pageNumber' component={ProfileScreen} exact />\n            <Route path='/product/:id' component={ProductScreen} exact/>\n            <Route path='/search/:keyword' component={HomeScreen} exact/> \n            <Route path='/product/:id/edit' component={ProductEditScreen} exact/> \n            <Route path='/search/:keyword/page/:pageNumber' component={HomeScreen} exact /> {/* pagination during search*/}\n            <Route path='/page/:pageNumber' component={HomeScreen} /> {/* pagination */}\n            <Route path='/' component={HomeScreen} exact />\n          </Container>\n        </Container>\n      </main>\n      \n      <Footer /> \n    </Router>\n  ); \n}\n\nexport default App;","import {createStore, combineReducers, applyMiddleware } from 'redux'; \nimport thunk from 'redux-thunk'\nimport {bookListReducer, bookReviewCreateReducer, bookCreateReducer, bookDeleteReducer, bookDetailsReducer, bookUpdateReducer} from './reducers/bookListReducer.js';\nimport {userLoginReducer, userRegisterReducer, userDetailsReducer, userUpdateReducer} from './reducers/userReducer'; \n\nconst reducer = combineReducers({\n\tbookList: bookListReducer, \n\tbookReviewCreate: bookReviewCreateReducer,  // create review\n\tuserLogin: userLoginReducer, \n\tuserRegister: userRegisterReducer, \n\tuserDetails: userDetailsReducer, \t\n\tuserUpdateProfile: userUpdateReducer, \n\tbookCreate:\tbookCreateReducer,\n\tbookDelete: bookDeleteReducer, \n\tproductDetails: bookDetailsReducer, \n\tproductUpdate: bookUpdateReducer\n})\n\nconst userInfoFromStorage = localStorage.getItem('userInfo')\n? JSON.parse(localStorage.getItem('userInfo'))\n: null\n\nconst initialState = {\n\tuserLogin: { userInfo: userInfoFromStorage }\n}\n\nconst middleware = [thunk]\n\nconst store = createStore(reducer, initialState, applyMiddleware(...middleware)); \nexport default store;","export const bookListReducer = (state = {books: []}, action) => {\n\tswitch (action.type) {\n\t\tcase 'BOOK_LIST_REQUEST':\n\t\t\treturn {loading: true}\n\t\tcase 'BOOK_LIST_SUCCESS': \n\t\t\t// pages and page are for pagination\n\t\t\tconsole.log('books')\n\t\t\tconsole.log(action.payload); \n\t\t\treturn {loading: false, books: action.payload.books, pages: action.payload.pages, page: action.payload.page} \n\t\tcase 'BOOK_LIST_FAIL': \n\t\t\treturn {loading: false, error: action.payload}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\nexport const bookReviewCreateReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase 'BOOK_CREATE_REVIEW_REQUEST':\n\t\t\treturn {loading: true}\n\t\tcase 'BOOK_CREATE_REVIEW_SUCCESS': \n\t\t\treturn {loading: false, success: true}\n\t\tcase 'BOOK_CREATE_REVIEW_FAIL': \n\t\t\treturn {loading: false, error: action.payload}\n\t\tcase 'BOOK_CREATE_REVIEW_RESET': \n\t\t\treturn {}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\n\n\nexport const bookCreateReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase 'BOOK_CREATE_REQUEST':\n\t\t\treturn {loading: true}\n\t\tcase 'BOOK_CREATE_SUCCESS': \n\t\t\treturn {loading: false, success: true, product: action.payload}\n\t\tcase 'BOOK_CREATE_FAIL': \n\t\t\treturn {loading: false, error: action.payload}\n\t\tcase 'BOOK_CREATE_RESET': \n\t\t\treturn {}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\n\n\n\nexport const bookDeleteReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase 'BOOK_DELETE_REQUEST':\n\t\t\treturn {loading: true}\n\t\tcase 'BOOK_DELETE_SUCCESS': \n\t\t\treturn {loading: false, success: true, product: action.payload}\n\t\tcase 'BOOK_DELETE_FAIL': \n\t\t\treturn {loading: false, error: action.payload}\n\t\tcase 'BOOK_DELETE_RESET': \n\t\t\treturn {}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\n\n// update\nexport const bookUpdateReducer = (state = { product: {}}, action) => {\n\tswitch (action.type) {\n\t\tcase 'BOOK_UPDATE_REQUEST':\n\t\t\treturn {loading: true}\n\t\tcase 'BOOK_UPDATE_SUCCESS': \n\t\t\treturn {loading: false, success: true, product: action.payload}\n\t\tcase 'BOOK_UPDATE_FAIL': \n\t\t\treturn {loading: false, error: action.payload}\n\t\tcase 'BOOK_UPDATE_RESET': \n\t\t\treturn {product: {}}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\n\n\n\n// list book detail\nexport const bookDetailsReducer = (state = { product: {reviews: [] }}, action) => {\n\tswitch (action.type) {\n\t\tcase 'BOOK_DETAIL_REQUEST':\n\t\t\treturn {loading: true}\n\t\tcase 'BOOK_DETAIL_SUCCESS': \n\t\t\treturn {loading: false, success: true, product: action.payload}\n\t\tcase 'BOOK_DETAIL_FAIL': \n\t\t\treturn {loading: false, error: action.payload}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\n","export const userLoginReducer = (state = { }, action) => {\n\tswitch(action.type){\n\t\tcase \"USER_LOGIN_REQUEST\":\n\t\t\treturn {loading: true}\n\t\tcase \"USER_LOGIN_SUCCESS\":\n\t\t\treturn {userInfo: action.payload}\n\t\tcase \"USER_LOGIN_FAIL\":\n\t\t\treturn {error: action.payload}\n\t\tcase \"USER_LOGOUT\": \n\t\t\treturn {}\n\t\tdefault: \n\t\t\treturn state\n\t}\n} \n\n\nexport const userRegisterReducer = (state = { }, action) => {\n\tswitch(action.type){\n\t\tcase \"USER_REGISTER_REQUEST\":\n\t\t\treturn {loading: true}\n\t\tcase \"USER_REGISTER_SUCCESS\":\n\t\t\treturn {loading: false, userInfo: action.payload}\n\t\t\tcase \"USER_REGISTER_FAIL\":\n\t\t\t\treturn {loading: false, error: action.payload} \n\t\tdefault: \n\t\t\treturn state\n\t}\n} \n\n\nexport const userDetailsReducer = (state = { user: {}}, action) => {\n\tswitch(action.type){\n\t\tcase \"USER_DETAILS_REQUEST\":\n\t\t\treturn {...state, loading: true}\n\t\tcase \"USER_DETAILS_SUCCESS\":\n\t\t\treturn {loading: false, user: action.payload}\n\t\tcase \"USER_DETAILS_FAIL\":\n\t\t\treturn {loading: false, error: action.payload} \n\t\tcase \"USER_DETAILS_RESET\": \n\t\t\treturn {user: {}}\n\t\tdefault: \n\t\t\treturn state\n\t}\n} \n\n\nexport const userUpdateReducer = (state = { user: {}}, action) => {\n\tswitch(action.type){\n\t\tcase \"USER_UPDATE_REQUEST\":\n\t\t\treturn {...state, loading: true}\n\t\tcase \"USER_UPDATE_SUCCESS\":\n\t\t\treturn {loading: false, success: true, user: action.payload}\n\t\tcase \"USER_UPDATE_FAIL\":\n\t\t\treturn {loading: false, error: action.payload} \n\t\tcase \"USER_UPDATE_RESET\": \n\t\t\treturn {}\n\t\tdefault: \n\t\t\treturn state\n\t}\n} \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n import  {Provider} from 'react-redux'; \nimport store from './store'; \n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, \n  document.getElementById('root')\n);\n\n","import axios from \"axios\"\n\nexport const login = (email, password) => async (dispatch) => {\n\ttry{\n\t\tdispatch({\n\t\t\ttype: 'USER_LOGIN_REQUEST',\n\t\t})\n\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t}\n\t\t}\n\n\t\tconst {data} = await axios.post('/api/user/login', {email, password}, config)\n\t\tconsole.log('data'); \n\t\tconsole.log(data)\n\n\t\tdispatch({\n\t\t\ttype: \"USER_LOGIN_SUCCESS\", \n\t\t\tpayload: data, \n\t\t})\n\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data)); \n\n\t} catch(error){\n\t\tdispatch({\n\t\t\ttype: \"USER_LOGIN_FAIL\", \n\t\t\tpayload:  (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t\t// payload: 'Hey there is an error', \n\t\t})\n\t}\n}\n\n\nexport const logout = () => (dispatch) => {\n\tlocalStorage.removeItem('userInfo'); \n\tdispatch({\n\t\ttype: 'USER_LOGOUT', \n\t})\n}\n\n\n\n\n\n\n// Registration actions\nexport const register = (name,  email, password) => async (dispatch) => {\n\ttry{\n\t\tdispatch({\n\t\t\ttype: 'USER_REGISTER_REQUEST',\n\t\t})\n\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t}\n\t\t}\n\n\t\tconst {data} = await axios.post('/api/user/register', {name, email, password}, config)\n\n\t\tdispatch({\n\t\t\ttype: \"USER_REGISTER_SUCCESS\", \n\t\t\tpayload: data, \n\t\t})\n\n\t\t// LOGIN THE USER AFTER REGISTRATION IS SUCCESS\n\t\tdispatch({\n\t\t\ttype: \"USER_LOGIN_SUCCESS\", \n\t\t\tpayload: data, \n\t\t})\n\n\t\t// Save userInfo localStorage \n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data)); \n\n\t} catch(error){\n\t\tdispatch({\n\t\t\ttype: \"USER_REGISTER_FAIL\", \n\t\t\tpayload:  (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t\t// payload: 'Hey there is an error', \n\t\t})\n\t}\n}\n\n\n\n\n\n\n// Registration actions\nexport const getUserDetails = (id) => async (dispatch, getState) => {\ntry{\n\t\tdispatch({\n\t\t\ttype: 'USER_DETAILS_REQUEST',\n\t\t})\n\n\t\tconst {userLogin: {userInfo}} = getState()\n\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t}\n\t\t}\n\n\t\tconst {data} = await axios.get(`/api/user/${id}`, config)\n\n\t\tdispatch({\n\t\t\ttype: \"USER_DETAILS_SUCCESS\", \n\t\t\tpayload: data, \n\t\t})\n\n\t} catch(error){\n\t\tdispatch({\n\t\t\ttype: \"USER_DETAILS_FAIL\", \n\t\t\tpayload:  (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t})\n\t}\n}\n\n\n\n\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\n\ttry{\n\t\t\tdispatch({\n\t\t\t\ttype: 'USER_UPDATE_REQUEST',\n\t\t\t})\n\n\t\t\tconst {userLogin: {userInfo}} = getState()\n\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json', \n\t\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst {data} = await axios.put(`/api/user/profile`, user, config)\n\n\t\t\tdispatch({\n\t\t\t\ttype: \"USER_UPDATE_SUCCESS\",\n\t\t\t\tpayload: data,\n\t\t\t})\n\n\t\t\t// relogin again\n\t\t\tdispatch({\n\t\t\t\ttype: \"USER_LOGIN_SUCCESS\",\n\t\t\t\tpayload: data,\n\t\t\t})\n\n\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(data)); \n\t\t\t\t\n\t\t} catch(error){\n\t\t\tdispatch({\n\t\t\t\ttype: \"USER_UPDATE_FAIL\", \n\t\t\t\tpayload:  (error.response && error.response.data.message) ? error.response.data.message : error.message,  \n\t\t\t})\n\t\t}\n}\n"],"sourceRoot":""}